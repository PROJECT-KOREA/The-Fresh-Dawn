### 한국 이벤트 ###
add_namespace = pk_korea_kpg
add_namespace = pk_korea_internal
add_namespace = pk_korea_internal_kip
add_namespace = pk_korea_internal_rnc
add_namespace = pk_korea_internal_kpp
add_namespace = pk_korea_party

#일본의 평화협정 제안
country_event = {
    id = pk_korea_kpg.1
    title = pk_korea_kpg.1.t
    desc = pk_korea_kpg.1.desc

    picture = GFX_report_event_generic_sign_treaty1

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.1.a
        set_capital = 525
        if = {
            limit = { has_idea = KOR_idea_independence_war_1 }
            remove_ideas = KOR_idea_independence_war_1
        }
        if = {
            limit = { has_idea = KOR_idea_independence_war_2 }
            remove_ideas = KOR_idea_independence_war_2
        }
        add_ideas = KOR_idea_vestiges_of_colonization
        add_ideas = KOR_idea_pro_japanese_collaborators
        # add_ideas = KOR_idea_ideological_conflict
        hidden_effect = {
            set_global_flag = kor_woi_over
            load_focus_tree = KOR_Provisional_Government
			complete_national_focus = KOR_focus_victory_in_woi
            delete_unit_template_and_units = {
                division_template = "조국해방의용군"
            }
            add_ideas = {
                civilian_economy
                export_focus
                volunteer_only
            }
            set_popularities = {
                neutrality = 50
                democratic = 15
                communism = 30
                fascism = 5
            }
            KOR_reset_state_names = yes
        }
    }
}

#임시정부의 귀환
country_event = {
    id = pk_korea_kpg.2
    title = pk_korea_kpg.2.t
    desc = pk_korea_kpg.2.desc

    picture = GFX_report_event_KOR_return_of_kpg

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.2.a
        clr_country_flag = KOR_flag_kia_mpc
		clr_country_flag = KOR_flag_hpc
        set_country_flag = KOR_flag_kpg
        set_party_name = { 
            ideology = neutrality
            long_name = KOR_neutrality_party_kpg_long 
            name = KOR_neutrality_party_kpg
        }
        create_country_leader = {
            name = "Kim Koo"
            desc = ""
            picture = "gfx/leaders/KOR/Portrait_Kim_Koo.dds"
            expire = "1965.1.1"
            ideology = oligarchism
            traits = {  }
        }
        hidden_effect = {
            add_ideas = {
                HoG_Kim_Kyusik
                SM_Hong_Jin
                EM_Song_Byeongjo
                FM_Cho_Soang
                MM_Ryu_Dongyol
            }
        }
    }
}

#임시의정원 선거
country_event = {
    id = pk_korea_kpg.3
    title = pk_korea_kpg.3.t
    desc = pk_korea_kpg.3.desc

    picture = GFX_report_event_KOR_election

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.3.a
    }
}

#임시헌법 개정
country_event = {
    id = pk_korea_kpg.4
    title = pk_korea_kpg.4.t
    desc = pk_korea_kpg.4.desc

    picture = GFX_report_event_KOR_jo_soang

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.4.a
    }
}

#국무원 선거
country_event = {
    id = pk_korea_kpg.5
    title = pk_korea_kpg.5.t
    desc = pk_korea_kpg.5.desc

    picture = GFX_report_event_KOR_kim_koo_syngman_rhee

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.5.a
    }
}

#국민대표회의 개최
country_event = {
    id = pk_korea_kpg.6
    title = pk_korea_kpg.6.t
    desc = pk_korea_kpg.6.desc

    picture = GFX_report_event_KOR_kim_koo_syngman_rhee_kim_kyu_sik

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.6.a
		add_political_power = 100
    }
}

#제헌 국회의원 선거
country_event = {
    id = pk_korea_kpg.7
    title = pk_korea_kpg.7.t
    desc = pk_korea_kpg.7.desc

    picture = GFX_report_event_KOR_national_assembly

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.7.a
		unlock_decision_category_tooltip = KOR_constituent_national_assembly_decision
    }
}

#정치체제를 둘러싼 갈등
country_event = {
    id = pk_korea_kpg.8
    title = pk_korea_kpg.8.t
    desc = pk_korea_kpg.8.desc

    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.8.a
        custom_effect_tooltip = pk_korea_kpg.8.a_tt
        set_country_flag = KOR_flag_presidential
        hidden_effect = {
            country_event = {
                id = pk_korea_kpg.9
                days = 1
            }
        }
    }

    option = {
        name = pk_korea_kpg.8.b
        custom_effect_tooltip = pk_korea_kpg.8.b_tt
        set_country_flag = KOR_flag_presidential_direct
        hidden_effect = {
            country_event = {
                id = pk_korea_kpg.9
                days = 1
            }
        }
    }

    option = {
        name = pk_korea_kpg.8.c
        custom_effect_tooltip = pk_korea_kpg.8.c_tt
        set_country_flag = KOR_flag_parliamentary
        hidden_effect = {
            country_event = {
                id = pk_korea_kpg.10
                days = 1
            }
        }
    }
}

#대통령제의 승리
country_event = {
    id = pk_korea_kpg.9
    title = pk_korea_kpg.9.t
    desc = {
        text = pk_korea_kpg.9.desc
        trigger = { has_country_flag = KOR_flag_presidential }
    }
    desc = {
        text = pk_korea_kpg.9.desc_direct
        trigger = { has_country_flag = KOR_flag_presidential_direct }
    }

    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.9.a
    }
}

#내각제의 승리
country_event = {
    id = pk_korea_kpg.10
    title = pk_korea_kpg.10.t
    desc = pk_korea_kpg.10.desc

    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_kpg.10.a
    }
}

#대한민국 헌법
country_event = {
    id = pk_korea_kpg.11
    title = pk_korea_kpg.11.t
    desc = pk_korea_kpg.11.desc
    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes
    option = {
        name = pk_korea_kpg.11.a
        
    }
}

#총선거
country_event = {
    id = pk_korea_kpg.12
    title = pk_korea_kpg.12.t
    desc = pk_korea_kpg.12.desc
    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    #한국독립당
    option = {
        name = pk_korea_kpg.12.a
        country_event = { id = pk_korea_internal_kip.1 }
        set_party_name = { 
            ideology = democratic 
            long_name = KOR_democratic_party_kip_long 
            name = KOR_democratic_party_kip 
        }
    }

    #공화민정회
    option = {
        name = pk_korea_kpg.12.b
        trigger = { NOT = { has_country_flag = KOR_flag_parliamentary } }
        country_event = { id = pk_korea_internal_rnc.1 }
        set_party_name = { 
            ideology = democratic 
            long_name = KOR_democratic_party_rnc_long
            name = KOR_democratic_party_rnc 
        }
    }

    #조선인민당
    option = {
        name = pk_korea_kpg.12.c
        trigger = { NOT = { has_country_flag = KOR_flag_presidential } }
        country_event = { id = pk_korea_internal_kpp.1 }
        set_party_name = { 
            ideology = democratic 
            long_name = KOR_democratic_party_kpp_long 
            name = KOR_democratic_party_kpp 
        }
    }
}

#한국독립당의 승리
country_event = {
    id = pk_korea_internal_kip.1
    title = pk_korea_internal_kip.1.t
    desc = pk_korea_internal_kip.1.desc
    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_internal_kip.1.a
        set_politics = { ruling_party = democratic }
        create_country_leader = {
            name = "Kim Koo"
            desc = "POLITICS_Kim_Koo_DESC"
            picture = "gfx/leaders/KOR/Portrait_Kim_Koo.dds"
            expire = "1965.1.1"
            ideology = national_conservatism
            traits = {

            }
        }
        set_country_flag = KOR_kip
        load_focus_tree = KOR_Kim_Koo
    }
}

#공화민정회의 승리
country_event = {
    id = pk_korea_internal_rnc.1
    title = pk_korea_internal_rnc.1.t
    desc = pk_korea_internal_rnc.1.desc
    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_internal_rnc.1.a
        set_politics = { ruling_party = democratic }
        create_country_leader = {
            name = "Syngman Rhee"
            desc = "POLITICS_Kim_Koo_DESC"
            picture = "gfx/leaders/KOR/Portrait_Syngman_Rhee.dds"
            expire = "1965.1.1"
            ideology = conservatism
            traits = {

            }
        }
    }
}

#조선인민당의 승리
country_event = {
    id = pk_korea_internal_kpp.1
    title = pk_korea_internal_kpp.1.t
    desc = pk_korea_internal_kpp.1.desc
    picture = GFX_report_event_election_vote

    is_triggered_only = yes
    fire_only_once = yes

    option = {
        name = pk_korea_internal_kpp.1.a
        set_politics = { ruling_party = democratic }
        create_country_leader = {
            name = "Lyuh Woonhyung"
            desc = "POLITICS_Kim_Koo_DESC"
            picture = "gfx/leaders/KOR/Portrait_Lyuh_Woonhyung.dds"
            expire = "1965.1.1"
            ideology = socialism
            traits = {

            }
        }
    }
}


# #국방경비대 장교단의 군사반란
# country_event = {
#     id = pk_korea_internal_fascism.1
#     title = pk_korea_internal_fascism.1.t
#     desc = pk_korea_internal_fascism.1.desc
#     picture = GFX_report_event_election_vote

#     is_triggered_only = yes
#     fire_only_once = yes

#     option = {
        
#     }
# }